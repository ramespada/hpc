<h1 id="shell">SHELL</h1>

<blockquote>
  <p>El shell o terminal, es el programa que nos permite interactuar en tiempo real, interactivamente con el sistema operativo atraves de entradas que damos desde el teclado. Casi todos las distros de Linux la sintaxis para los comandos de terminal se basan en un proyecto GNU llamado <strong>bash</strong>. La sintaxis de sistemas Mac es identica, y Windows la esta empezando a adpotar.</p>
</blockquote>

<h2 id="prompt">PROMPT</h2>
<p>Cuando abras la terminal (con <code class="language-plaintext highlighter-rouge">ctrl</code>+<code class="language-plaintext highlighter-rouge">T</code>) te vas a encontar con algo asi:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   username@pcname:workdir<span class="err">$</span>
</code></pre></div></div>

<p>Esto se conoce como <strong>promt</strong>, va a anteceder siempre al cursor, y nos da alguna informacion de cual es nuestro estado.
Lo primero que dice nuestro prompt es quien es el usuario que va a ejecutar las instrucciones (<em>username</em>), luego del <strong><code class="language-plaintext highlighter-rouge">@</code></strong> dice desde que computadora (<em>pcname</em>), seguido de <strong><code class="language-plaintext highlighter-rouge">:</code></strong> dice el directorio en el que estamos ubicados dentro de <em>pcname</em>, y por ultimo un signo que indica los privilegios del usuario (<strong><code class="language-plaintext highlighter-rouge">$</code></strong>: usuario normal, <strong><code class="language-plaintext highlighter-rouge">#</code></strong>:superuser)</p>

<h2 id="navegación">NAVEGACIÓN:</h2>
<p>Veamos como navegar en LINUX, esto es ir de una carpeta a otra y revisar el contenido.</p>

<p>Para conocer la ubicacion absoluta en la que estamos (la del prompt es relativa a la carpeta principal del usuario) utilizamos:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">pwd</span>
</code></pre></div></div>

<p>Si queremos ver el contenido de la carpeta entonces escribimos:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">ls</span>	<span class="c">#muestra contenido del directorio, probar con opciones: -a -l</span>
</code></pre></div></div>

<p>Para cambiar de directorio:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span>	<span class="c">#cambio de directorio </span>
 <span class="nb">cd</span> ..	<span class="c">#cambio de directorio (ir directorio madre)</span>
</code></pre></div></div>

<p>Para borrar la pantalla de comandos escribimos:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	clear	<span class="c">#limpia pantalla (tambien se puede con &lt;ctl&gt;+l )</span>
</code></pre></div></div>

<h2 id="directorios-y-archivos">DIRECTORIOS Y ARCHIVOS</h2>
<p>Veamos como crear/borrar directorios y archivos:</p>

<p>Para crear/borrar una carpeta existen los siguientes comandos:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">mkdir </span>carpeta		<span class="c">#crea directorio</span>
 <span class="nb">rmdir </span>carpeta		<span class="c">#elimina directorio</span>
 <span class="nb">rm</span> <span class="nt">-r</span> carpeta		<span class="c">#elimina directorio y todo su contenido (OJO!!)</span>
</code></pre></div></div>

<p>Para crear/borrar un archivo:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">touch </span>archivo		<span class="c">#crea archivo/actualiza fecha de acceso</span>
 <span class="nb">rm </span>archivo		<span class="c">#borrar archivo</span>
</code></pre></div></div>

<p>Otras acciones que podemos hacer con directorios y archivos son:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cp </span>archivo archivo_copiado	<span class="c">#copiar archivo </span>
 <span class="nb">mv </span>archivo archivo_movido	<span class="c">#mover archivo (tambien sirve para renombrar)</span>
 <span class="nb">ln</span> <span class="nt">-s</span> archivo link_archivo	<span class="c">#crear link simbolico ("acceso directo")</span>
</code></pre></div></div>

<h2 id="io">I/O</h2>
<p>Muchos de los comandos utilizados hasta ahora generan un output de algun tipo. 
Estos outputs consisten en dos tipos:
	- resultados que el programa esta diseñado a producir (<em>stdout</em>)
	- mensajes de estado y error  (<em>stderr</em>)</p>

<p>Por ejemplo en linux, <code class="language-plaintext highlighter-rouge">ls</code> manda sus resultados a un archivo especial llamado <em>stdout</em>, y su status a otro llamado <em>stderr</em>. Ambos estan linkeados por default con la pantalla.</p>

<p>Ademas muchos programas toman sus argumentos de un <em>stdin</em>, por default linkeado a las entradas desde el teclado.</p>

<h2 id="redireccion-de-stdout-stdin">Redireccion de stdout stdin</h2>
<p>Las salidas de los comandos por default generalmente van a la pantalla, y los inputs se toman desde el teclado.
Sin embargo podemos decidir donde llevar los stdin/stdout utilizando comandos de redireccion:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s2">"Hola"</span>				<span class="c">#stdin   a  stdout</span>
 <span class="nb">read </span>var				<span class="c">#stdin   a  var</span>
 <span class="nb">cat</span> <span class="o">&gt;</span> archivo 				<span class="c">#stdin 	 a  archivo</span>
 <span class="nb">cat </span>archivo <span class="o">&gt;&gt;</span> archivo 		<span class="c">#archivo a  archivo (lo agrega)</span>
 <span class="nb">cat </span>animales | <span class="nb">sort</span>			<span class="c">#comando a  comando ("pipe")</span>
 <span class="nb">echo</span> <span class="s2">"Hola"</span> | <span class="nb">tee </span>archivo		<span class="c">#stdin 	 a  archivo y stdout ("tee")</span>
 <span class="nb">echo</span> <span class="s2">"Algo"</span> | xargs <span class="nb">mkdir</span>		<span class="c">#xargs: ejecuta comandos de un standard input (los pasa a argumentos de comandos)</span>
</code></pre></div></div>

<h2 id="archivos-de-texto">Archivos de texto:</h2>
<p>Para ver el contenido de un archivo de texto tenemos varias opciones:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cat </span>archivo		<span class="c">#muestra todo el contenido como stdout</span>
 <span class="nb">head </span>archivo		<span class="c">#ver primer parte</span>
 <span class="nb">tail </span>archivo		<span class="c">#ver última parte</span>
 more archivo		<span class="c">#solo lectura (viejo)</span>
 less archivo  		<span class="c">#version moderna de less  ("more is less" xD)</span>
</code></pre></div></div>

<h3 id="editores-de-texto">Editores de texto</h3>
<p>Si buscamos un editor de texto con más funciones, algunos de los mas conocidos son:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim archivo		<span class="c">#Editor de textos. (Recomiendo este!!)</span>
nano archivo		<span class="c">#Editor de textos.</span>
emacs archivo		<span class="c">#Editor de textos.</span>
</code></pre></div></div>

<h3 id="editores-al-vuelo">Editores <em>al vuelo</em></h3>
<p>Un editor <em>on the fly</em> muy utilizado es:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="s1">'s/ioeu/a/g'</span> archivo	<span class="c">#Stream Editor</span>
</code></pre></div></div>

<h3 id="expresiones-regulares">Expresiones regulares</h3>
<p>Las expresiones regulares son formulas abstractas que representan patrones de texto que tienen cierta estructura. Son muy útiles para buscar (y modificar) secuencias de texto dentro de un archivo que siga determinado patron.</p>

<p>Hay distintos comandos para trabajar con expresiones regulares, el mas conocido es <code class="language-plaintext highlighter-rouge">grep</code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="nb">ls</span> | <span class="nb">grep</span> <span class="s2">"*.txt"</span>	<span class="c"># mostrar archivos terminados en ".txt"</span>
</code></pre></div></div>

<h2 id="busqueda-de-archivos">BUSQUEDA DE ARCHIVOS:</h2>
<p>Hay dos comandos principales para buscar archivos:</p>

<p>El primero es <code class="language-plaintext highlighter-rouge">locate</code>, busca archivos por su nombre:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>locate &lt;patron&gt; 	<span class="c">#Busca archivos por nombre en una jerarquia de directorios</span>
</code></pre></div></div>

<p>El comando <code class="language-plaintext highlighter-rouge">find</code> incorpora otras variables para la busqueda:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> find &lt;patron&gt;   	<span class="c">#Busca en directorio archivos con patron y los lista.</span>
 find &lt;patron&gt; <span class="nt">-type</span> d/f/l <span class="nt">-size</span> b/c/w/k/M/G <span class="nt">-name</span> <span class="s2">"pattern"</span>
 find &lt;patron&gt; <span class="se">\(</span><span class="nt">-type</span> d <span class="se">\)</span> <span class="nt">-and</span>/-or/-not  <span class="se">\(</span><span class="nt">-size</span> M  <span class="se">\)</span>
 find &lt;patron&gt; <span class="nt">-type</span> d/f/l <span class="nt">-size</span> b/c/w/k/M/G <span class="nt">-name</span> <span class="s2">"pattern"</span>
 find &lt;patron&gt; <span class="nt">-delete</span>/-ls/-print/-quit
 
 find &lt;patron&gt; <span class="nt">-delete</span>/-ls/-print/-quit <span class="nt">-exec</span> <span class="nb">ls</span> <span class="nt">-l</span> <span class="s1">'{}'</span> <span class="s1">';'</span>
</code></pre></div></div>

<h2 id="permisos-y-usuarios">PERMISOS y USUARIOS</h2>
<p>Linux es un sistema operativo <em>multiusuario</em>, esto significa que muchos usuarios pueden estar utilizando la misma computadora en simultaneo.
Cada usuario tiene un id, y tiene ciertos privilegios.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">id</span> 			<span class="c">#ver id de usuario</span>
<span class="nb">users</span>			<span class="c">#ver users</span>
</code></pre></div></div>

<p>Para utilizar la terminal como otro usuario :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - user2		<span class="c">#ingreso a la cuenta de user2 como si fuese el</span>
su user2		<span class="c">#ingreso a la cuenta de user2, pero como user actual</span>
</code></pre></div></div>

<p>Para realizar operaciones como <em>super-user</em>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span>			<span class="c">#ejecutar comando como superuser</span>
</code></pre></div></div>

<h2 id="informacion-de-archivos">Informacion de archivos</h2>
<p>file <archivo>			#te muestra tipo de archivo
stat <archivo>  		#te muestra el estado del archivo</archivo></archivo></p>

<p>Si llamamos a <code class="language-plaintext highlighter-rouge">ls -l</code> vemos que lista los archvivos en el directorio presente, por ejemplo:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$&gt;</span> <span class="nb">ls</span> <span class="nt">-l</span>
drwxr-xr-x  8 rama rama    69632 may 19 22:55  Desktop
<span class="nt">-rw-r--r--</span>  1 rama rama     8980 abr  9 12:03  examples.desktop
lrwxrwxrwx  1 rama rama       15 may 27 14:43  dni.pdf -&gt; Desktop/dni.pdf
</code></pre></div></div>
<p>La primer secencia de letras y guíones describe el tipo de archivo (primer letra, <strong>d</strong>: directorio, <strong>l</strong>: link, <strong>-</strong> otro.) y el modo ó permisos para usar de cada arcihvo ó directorio (últimos 9 caracteréres, donde: <strong>r</strong>: permiso de lectura, <strong>w</strong>: permiso de escritura, <strong>x</strong>: permiso de ejecucion</p>

<p>El modo queda definido por tres numeros binarios (ó su equivalente hexadecimal). Por ejemplo <code class="language-plaintext highlighter-rouge">Desktop</code> tiene modo 111 101 101 (es decir: 755) y <code class="language-plaintext highlighter-rouge">examples.desktop</code> tiene modo 110 100 100 (es decir 644). La forma de leerlo es:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">descr.</th>
      <th style="text-align: center">{tipo}</th>
      <th style="text-align: center">{user}</th>
      <th style="text-align: center">{group}</th>
      <th style="text-align: center">{anyone}</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">alphanum</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">r w x  -</td>
      <td style="text-align: center">r w x  -</td>
      <td style="text-align: center">r w x</td>
    </tr>
    <tr>
      <td style="text-align: left">binario</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">1 1 1  -</td>
      <td style="text-align: center">0 1 0  -</td>
      <td style="text-align: center">1 0 1</td>
    </tr>
    <tr>
      <td style="text-align: left">decimal</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">7</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">5</td>
    </tr>
  </tbody>
</table>

<p>Para modificar el <em>modo</em> se utiliza el comando <code class="language-plaintext highlighter-rouge">chmod</code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">chmod</span> &lt;opcion&gt; &lt;archivo&gt;	<span class="c">#cambiar modo de archivo </span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">chmod</span> +x script.sh	<span class="c">#agregar permiso de ejecución a todos.</span>
</code></pre></div></div>

<p>Para cambiar de propetiario y grupo de un archivo se utilizan los siguientes comandos:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">chown </span>archivo	<span class="c">#change owner (propietario)</span>
 <span class="nb">chgrp </span>archivo	<span class="c">#change group </span>
</code></pre></div></div>

<h2 id="procesos">PROCESOS</h2>
<p>Los sistemas operativos basados en linux son <em>multi-task</em>, esto quiere decir que la secuencia de ejecucion de programas la realizan de tal forma que pareciera que se estan realizando multiples tareas en simultaneo (esto es estrictamente asi cuando la computadora posee varias unidades de procesamiento, que hoy en dia es lo mas comun):</p>

<p>Hay distintos comandos que nos dan informacion de los procesos que se estan ejecutando en la computadora:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ps	      <span class="c">#muestra snapshot de procesos: -A  -s -ef</span>
 top	      <span class="c">#muestra procesos en tiempo real</span>
 <span class="nb">jobs</span>	      <span class="c">#muestra procesos activos</span>
 free	      <span class="c">#memoria libre</span>
 <span class="nb">df</span>	      <span class="c">#espacio libre en el disco rigido</span>
</code></pre></div></div>

<p>Para dar/quitar prioridad a un proceso por el resto de los otros:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">bg</span>		<span class="c">#manda proceso al fondo</span>
 <span class="nb">fg</span>		<span class="c">#manda proceso arriba</span>
</code></pre></div></div>
<p>Para terminar un proceso:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">kill</span> &lt;PID&gt;    <span class="c"># mata proceso (PID)  OJOOO CON ESTO!!</span>
 killall	      <span class="c">#mata proceso por nombre</span>
</code></pre></div></div>

<h2 id="comandos-utiles">COMANDOS UTILES:</h2>

<h3 id="historial-de-comandos">Historial de comandos</h3>
<p>Con las flechas de direccion (arriba y abajo) podemos revisar comandos ejecutados anteriormente. 
Una forma de ver todo lo que fue ejecutado en la terminal abrierta es con el comando:<code class="language-plaintext highlighter-rouge">history</code>.
Podemos buscar lineas ejecutadas anteriormente aprentando <code class="language-plaintext highlighter-rouge">&lt;ctl&gt;+r</code>  y escribiendo el patron que se desea buscar.</p>

<h3 id="ayuda">Ayuda</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">help</span>
 &lt;comando&gt; <span class="nt">--help</span>
 <span class="nb">help grep</span>	<span class="c">#informacion sobre uso del comando</span>
 
 whatis <span class="nb">grep</span>	<span class="c">#te dice que es es el comando</span>
 <span class="nb">type grep</span>	<span class="c">#te dice que tipo de comando es</span>
 which <span class="nb">grep</span>	<span class="c">#te dice donde se ubica el comando</span>
 apropos copy	<span class="c">#busca una funcion apropiada para "copy"</span>
 
 man <span class="nb">grep</span>	<span class="c">#abre documentación de comando "grep"</span>
 info <span class="nb">grep</span>	<span class="c">#abre información de comando "grep"</span>
</code></pre></div></div>

<h3 id="compresión-de-archivos">Compresión de archivos</h3>
<p>Para comprimir se puede utilizar el programa <code class="language-plaintext highlighter-rouge">tar</code>, cuyas opciones principales son <code class="language-plaintext highlighter-rouge">-c</code> para comprimir y <code class="language-plaintext highlighter-rouge">-x</code> para descomprimir.</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">tar</span> <span class="nt">-cvf</span> comprimido.tar.gz carpeta 
 <span class="nb">tar</span> <span class="nt">-xzvf</span> comprimido.tar.gz
</code></pre></div></div>

<h3 id="manejo-de-paquetes-y-librerias">Manejo de paquetes y librerias</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> apt-get <span class="nt">--install</span> &lt;programa&gt;	<span class="c">#instalar programa</span>
	<span class="nt">--update</span>		<span class="c">#actualizar sistema</span>
	<span class="nt">--upgrade</span>		<span class="c">#</span>
</code></pre></div></div>

<h3 id="otros">Otros</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sort </span>lista	<span class="c">#ordena lista de strings</span>
 <span class="nb">uniq </span>lista	<span class="c">#muestra todos los elementos de la lista sin repetirlos</span>
 <span class="nb">split </span>archivo	<span class="c">#divide archivos en partes iguales</span>
 <span class="nb">wc </span>archivo	<span class="c">#cuenta palabras del archivo/bits</span>

 diff archivo1 archivo2	<span class="c">#muestra diferencias entre archivos</span>
</code></pre></div></div>

<h3 id="ejecutablesprogramas">Ejecutables/programas</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ldd &lt;ejecutable&gt;		<span class="c">#lista las dependencias del ejecutable</span>
 ./&lt;ejecutable&gt;			<span class="c">#forma típica de ejecución de binarios.</span>
</code></pre></div></div>

<h3 id="informacion-del-sistema">Informacion del sistema</h3>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">date</span> 	<span class="c">#fecha</span>
 cal	<span class="c">#calendario cool</span>
 <span class="nb">uname</span> 	<span class="c">#datos del sistema operativo</span>
 <span class="nb">env</span>	<span class="c">#variables de ambiente</span>
</code></pre></div></div>
